{
	"info": {
		"_postman_id": "library-management-api",
		"name": "Library Management System API",
		"description": "Complete API collection for Library Management System with authentication and authorization",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{auth_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000/api",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"student\",\n  \"studentId\": \"STUDENT_ID_HERE\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						}
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('auth_token', response.token);",
									"    console.log('Token saved:', response.token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@library.com\",\n  \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile"]
						}
					}
				},
				{
					"name": "Change Password",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"currentPassword\": \"admin123\",\n  \"newPassword\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/change-password",
							"host": ["{{base_url}}"],
							"path": ["auth", "change-password"]
						}
					}
				}
			]
		},
		{
			"name": "Students",
			"item": [
				{
					"name": "Get All Students",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/students?search=&shift=all&status=all",
							"host": ["{{base_url}}"],
							"path": ["students"],
							"query": [
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "shift",
									"value": "all"
								},
								{
									"key": "status",
									"value": "all"
								}
							]
						}
					}
				},
				{
					"name": "Get Student by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/students/STUDENT_ID",
							"host": ["{{base_url}}"],
							"path": ["students", "STUDENT_ID"]
						}
					}
				},
				{
					"name": "Create Student",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": \"+1234567890\",\n  \"address\": \"123 Main Street, City, State\",\n  \"joinDate\": \"2024-09-12\",\n  \"shift\": \"morning\",\n  \"seatPreference\": \"window\",\n  \"monthlyFee\": 2500\n}"
						},
						"url": {
							"raw": "{{base_url}}/students",
							"host": ["{{base_url}}"],
							"path": ["students"]
						}
					}
				},
				{
					"name": "Update Student",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe Updated\",\n  \"phone\": \"+1234567891\",\n  \"status\": \"active\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/students/STUDENT_ID",
							"host": ["{{base_url}}"],
							"path": ["students", "STUDENT_ID"]
						}
					}
				},
				{
					"name": "Delete Student",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/students/STUDENT_ID",
							"host": ["{{base_url}}"],
							"path": ["students", "STUDENT_ID"]
						}
					}
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Get All Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/payments?search=&status=all",
							"host": ["{{base_url}}"],
							"path": ["payments"],
							"query": [
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "status",
									"value": "all"
								}
							]
						}
					}
				},
				{
					"name": "Get Payment Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/payments/stats",
							"host": ["{{base_url}}"],
							"path": ["payments", "stats"]
						}
					}
				},
				{
					"name": "Update Payment Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"paid\",\n  \"method\": \"upi\",\n  \"paidDate\": \"2024-09-12T08:00:00.000Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/payments/PAYMENT_ID",
							"host": ["{{base_url}}"],
							"path": ["payments", "PAYMENT_ID"]
						}
					}
				},
				{
					"name": "Export Payments CSV",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/payments/export",
							"host": ["{{base_url}}"],
							"path": ["payments", "export"]
						}
					}
				}
			]
		},
		{
			"name": "Expenses",
			"item": [
				{
					"name": "Get All Expenses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/expenses?category=all&type=all",
							"host": ["{{base_url}}"],
							"path": ["expenses"],
							"query": [
								{
									"key": "category",
									"value": "all"
								},
								{
									"key": "type",
									"value": "all"
								}
							]
						}
					}
				},
				{
					"name": "Create Expense",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"category\": \"utilities\",\n  \"description\": \"Electricity Bill\",\n  \"amount\": 5000,\n  \"date\": \"2024-09-12\",\n  \"type\": \"recurring\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/expenses",
							"host": ["{{base_url}}"],
							"path": ["expenses"]
						}
					}
				},
				{
					"name": "Get Expense Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/expenses/stats",
							"host": ["{{base_url}}"],
							"path": ["expenses", "stats"]
						}
					}
				},
				{
					"name": "Update Expense",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 5500,\n  \"description\": \"Updated Electricity Bill\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/expenses/EXPENSE_ID",
							"host": ["{{base_url}}"],
							"path": ["expenses", "EXPENSE_ID"]
						}
					}
				},
				{
					"name": "Delete Expense",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/expenses/EXPENSE_ID",
							"host": ["{{base_url}}"],
							"path": ["expenses", "EXPENSE_ID"]
						}
					}
				}
			]
		},
		{
			"name": "Seats",
			"item": [
				{
					"name": "Initialize Seats",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/seats/initialize",
							"host": ["{{base_url}}"],
							"path": ["seats", "initialize"]
						}
					}
				},
				{
					"name": "Get All Seats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/seats",
							"host": ["{{base_url}}"],
							"path": ["seats"]
						}
					}
				},
				{
					"name": "Get Seat Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/seats/stats",
							"host": ["{{base_url}}"],
							"path": ["seats", "stats"]
						}
					}
				},
				{
					"name": "Assign Seat",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"seatId\": \"SEAT_ID\",\n  \"studentId\": \"STUDENT_ID\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/seats/assign",
							"host": ["{{base_url}}"],
							"path": ["seats", "assign"]
						}
					}
				},
				{
					"name": "Unassign Seat",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/seats/SEAT_ID/unassign",
							"host": ["{{base_url}}"],
							"path": ["seats", "SEAT_ID", "unassign"]
						}
					}
				}
			]
		},
		{
			"name": "Alerts",
			"item": [
				{
					"name": "Get All Alerts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts?type=all&read=false",
							"host": ["{{base_url}}"],
							"path": ["alerts"],
							"query": [
								{
									"key": "type",
									"value": "all"
								},
								{
									"key": "read",
									"value": "false"
								}
							]
						}
					}
				},
				{
					"name": "Create Alert",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"info\",\n  \"title\": \"System Maintenance\",\n  \"message\": \"Scheduled maintenance will occur tonight at 2 AM\",\n  \"studentId\": null\n}"
						},
						"url": {
							"raw": "{{base_url}}/alerts",
							"host": ["{{base_url}}"],
							"path": ["alerts"]
						}
					}
				},
				{
					"name": "Get Alert Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts/stats",
							"host": ["{{base_url}}"],
							"path": ["alerts", "stats"]
						}
					}
				},
				{
					"name": "Mark Alert as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts/ALERT_ID/read",
							"host": ["{{base_url}}"],
							"path": ["alerts", "ALERT_ID", "read"]
						}
					}
				},
				{
					"name": "Mark All Alerts as Read",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts/read-all",
							"host": ["{{base_url}}"],
							"path": ["alerts", "read-all"]
						}
					}
				},
				{
					"name": "Delete Alert",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/alerts/ALERT_ID",
							"host": ["{{base_url}}"],
							"path": ["alerts", "ALERT_ID"]
						}
					}
				}
			]
		},
		{
			"name": "Dashboard",
			"item": [
				{
					"name": "Get Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/dashboard/stats",
							"host": ["{{base_url}}"],
							"path": ["dashboard", "stats"]
						}
					}
				},
				{
					"name": "Get Revenue Analytics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/dashboard/revenue-analytics?period=6months",
							"host": ["{{base_url}}"],
							"path": ["dashboard", "revenue-analytics"],
							"query": [
								{
									"key": "period",
									"value": "6months"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "User (Student Dashboard)",
			"item": [
				{
					"name": "Get My Dashboard",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user/dashboard",
							"host": ["{{base_url}}"],
							"path": ["user", "dashboard"]
						}
					}
				},
				{
					"name": "Get My Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user/details",
							"host": ["{{base_url}}"],
							"path": ["user", "details"]
						}
					}
				},
				{
					"name": "Get My Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user/payments?status=all&limit=10",
							"host": ["{{base_url}}"],
							"path": ["user", "payments"],
							"query": [
								{
									"key": "status",
									"value": "all"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					}
				},
				{
					"name": "Get My Due Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user/due-payments",
							"host": ["{{base_url}}"],
							"path": ["user", "due-payments"]
						}
					}
				},
				{
					"name": "Get My Alerts",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user/alerts?read=false&limit=20",
							"host": ["{{base_url}}"],
							"path": ["user", "alerts"],
							"query": [
								{
									"key": "read",
									"value": "false"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					}
				},
				{
					"name": "Get My Seat",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/user/seat",
							"host": ["{{base_url}}"],
							"path": ["user", "seat"]
						}
					}
				}
			]
		},
		{
			"name": "Admin Management",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/users?role=all&status=all",
							"host": ["{{base_url}}"],
							"path": ["admin", "users"],
							"query": [
								{
									"key": "role",
									"value": "all"
								},
								{
									"key": "status",
									"value": "all"
								}
							]
						}
					}
				},
				{
					"name": "Get User Stats",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/users/stats",
							"host": ["{{base_url}}"],
							"path": ["admin", "users", "stats"]
						}
					}
				},
				{
					"name": "Create Admin User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin2@library.com\",\n  \"password\": \"admin123\",\n  \"role\": \"admin\",\n  \"permissions\": {\n    \"students\": {\n      \"create\": true,\n      \"read\": true,\n      \"update\": true,\n      \"delete\": false\n    },\n    \"payments\": {\n      \"create\": false,\n      \"read\": true,\n      \"update\": true,\n      \"delete\": false\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/users",
							"host": ["{{base_url}}"],
							"path": ["admin", "users"]
						}
					}
				},
				{
					"name": "Update User Permissions",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"permissions\": {\n    \"students\": {\n      \"create\": true,\n      \"read\": true,\n      \"update\": true,\n      \"delete\": true\n    },\n    \"dashboard\": {\n      \"read\": true\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/users/USER_ID/permissions",
							"host": ["{{base_url}}"],
							"path": ["admin", "users", "USER_ID", "permissions"]
						}
					}
				},
				{
					"name": "Toggle User Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"isActive\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin/users/USER_ID/status",
							"host": ["{{base_url}}"],
							"path": ["admin", "users", "USER_ID", "status"]
						}
					}
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/admin/users/USER_ID",
							"host": ["{{base_url}}"],
							"path": ["admin", "users", "USER_ID"]
						}
					}
				}
			]
		},
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": ["{{base_url}}"],
					"path": ["health"]
				}
			}
		}
	]
}
